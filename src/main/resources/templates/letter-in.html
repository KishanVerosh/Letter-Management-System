<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Letter In - University of Colombo</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body style="display:flex; height:100vh; background:#f0f8ff;">

<!-- Sidebar -->
<div class="sidebar" style="width:250px; background:#1e3a8a; color:white; display:flex; flex-direction:column;">
    <h3 class="text-center mt-3">Letter In/Out</h3>

    <a th:href="@{/dashboard}" class="text-white p-2">Dashboard</a>
    <a th:href="@{/addLetter}" class="text-white p-2">Add Letter</a>
    <a th:href="@{/updateLetter}" class="text-white p-2">Update Letter</a>
    <a th:href="@{/letterList}" class="text-white p-2">Letter List</a>
    <a th:href="@{/aboutUs}" class="text-white p-2">About Us</a>

    <div class="mt-auto p-3">
        <form th:action="@{/logout}" method="post">
            <button class="btn btn-danger w-100">Log Out</button>
        </form>

        <a href="https://expo.dev/accounts/dinn24/projects/newLetter/builds/abac5d3b-33e3-4bbf-83a5-57b24cc69fb3"
           target="_blank" class="text-info d-block text-center mt-2">
            <u>Get the Mobile App</u>
        </a>
    </div>
</div>

<!-- Content -->
<div class="flex-grow-1 p-4">

    <!-- Success message -->
    <div th:if="${success}" class="alert alert-success text-center" th:text="${success}"></div>

    <!-- Error message -->
    <div th:if="${error}" class="alert alert-danger text-center" th:text="${error}"></div>

    <div class="container bg-white p-4 rounded shadow" style="max-width:500px;">
        <h1 class="text-center text-primary">Letter In</h1>

        <form th:action="@{/letter-in}" method="post">

            <input type="text" name="title" class="form-control mt-3"
                   placeholder="Letter Title" required>

            <textarea name="sender_address" class="form-control mt-3"
                      placeholder="Sender Address" required></textarea>

            <textarea name="receiver_address" class="form-control mt-3"
                      placeholder="Receiver Address" required></textarea>

            <!-- Role-based radio buttons -->
            <div th:if="${userType != 'normal'}" class="mt-3 text-center">
                <label class="me-3">
                    <input type="radio" name="letter_type" value="Added" required> Added
                </label>

                <label>
                    <input type="radio" name="letter_type" value="Letter In"> Letter In
                </label>
            </div>

            <button type="submit" class="btn btn-primary w-100 mt-4">
                Submit
            </button>
        </form>
    </div>
</div>

</body>
</html>
